<link rel="stylesheet" href="modules/livechat/styles.css" />
<div id="livechat-module" class="module-container fade-in">
    <div class="chat-layout">
        <!-- Sidebar con lista de conversaciones -->
        <aside class="conversations-sidebar">
            <div class="sidebar-header">
                <div class="header-title">
                    <h3> Conversaciones</h3>
                    <span id="conversations-count" class="conversations-count">0</span>
                </div>
                <div class="search-wrapper">
                    <input type="text" id="search-conversations" class="modern-search" placeholder="Buscar conversaciones..." />
                    <div class="search-icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="M21 21l-4.35-4.35"></path>
                        </svg>
                    </div>
                    <button class="clear-search hidden" id="clear-search-btn" aria-label="Limpiar b煤squeda"></button>
                </div>
            </div>
            
            <div class="conversation-list-wrapper">
                <div id="conversations-list" class="conversations-list">
                    <!-- Los contactos se cargar谩n aqu铆 din谩micamente -->
                </div>
                <div class="empty-state hidden" id="empty-state">
                    <div class="empty-icon"></div>
                    <h4>No hay conversaciones</h4>
                    <p>No se encontraron conversaciones disponibles.</p>
                </div>
            </div>
        </aside>

        <!-- rea principal del chat -->
        <section class="chat-pane">
            <div class="chat-header">
                <div class="conversation-info">
                    <div class="avatar-placeholder">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <div>
                        <h3 id="chat-title">Selecciona una conversaci贸n</h3>
                        <small id="chat-subtitle">Elige una conversaci贸n de la lista</small>
                    </div>
                </div>
                
                <div class="chat-actions">
                    <button class="action-btn" id="livechat-refresh-btn" title="Refrescar conversaci贸n">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23,4 23,10 17,10"></polyline>
                            <polyline points="1,20 1,14 7,14"></polyline>
                            <path d="M20.49,9A9,9,0,0,0,5.64,5.64L1,10m22,4L18.36,18.36A9,9,0,0,1,3.51,15"></path>
                        </svg>
                    </button>
                    <button class="action-btn" id="scroll-to-bottom-btn" title="Ir al final">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="7,13 12,18 17,13"></polyline>
                            <polyline points="7,6 12,11 17,6"></polyline>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div id="livechat-messages" class="messages">
                <div class="welcome-state">
                    <div class="welcome-icon"></div>
                    <h3>Bienvenido al Centro de Control</h3>
                    <p>Selecciona una conversaci贸n de la lista para comenzar a supervisar las interacciones en tiempo real.</p>
                </div>
            </div>
            
            <div id="new-messages-indicator" class="new-messages-indicator">
                <span class="indicator-text"> Nuevos mensajes - Click para ver</span>
                <div class="indicator-pulse"></div>
            </div>
        </section>
    </div>
</div>
